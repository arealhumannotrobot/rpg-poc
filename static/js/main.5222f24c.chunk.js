(this["webpackJsonprpg-poc"]=this["webpackJsonprpg-poc"]||[]).push([[0],{116:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),c=a.n(l),o=(a(71),a(40),a(122)),i=a(125),s=a(124),u=a(16),m=a(35),p={tab:"MY_KEYS"},d="ACT_TYPE_TAB_SET_TAB",E="ACT_TYPE_TAB_STUB";var b=a(7),v=a(28),g=a.n(v),f=a(57),y=a.n(f),h=a(38),w=a(126),O=a(119),S=a(120),k=function(e){return r.a.createElement(w.a,{key:"trigger-tooltip-alias",placement:"bottom",trigger:"focus",overlay:r.a.createElement(O.a,{id:"newkey-tooltip-alias"},e.customMsg?e.customMsg:"copied!"),delay:{show:200,hide:2e3}},e.customButton?r.a.createElement(e.customButton,null):r.a.createElement(S.a,{type:"button",className:"btn btn-default btn-copy js-tooltip js-copy",style:{backgroundColor:"white",borderColor:"black"},onClick:function(){!function(e){if(e)if(!0===document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(a){console.log("Oops, unable to copy")}document.body.removeChild(t)}else window.prompt("Copy to clipboard: Ctrl+C or Command+C, Enter",e)}(e.text)}},r.a.createElement("svg",{className:"icon",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M17,9H7V7H17M17,13H7V11H17M14,17H7V15H14M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z"}))))},j=function(e){return r.a.createElement(h.a.Group,{controlId:"props.id"},e.copyBtn?r.a.createElement(k,{text:e.value}):null,r.a.createElement(h.a.Label,null,e.label),r.a.createElement(h.a.Control,{readOnly:e.readOnly,disabled:e.disabled,name:e.name,value:e.value,as:"textarea",rows:"10"}))},_=a(121),C=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(b.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(""),m=Object(b.a)(u,2),p=(m[0],m[1],Object(n.useState)("")),d=Object(b.a)(p,2),E=d[0],v=d[1],f=Object(n.useState)(""),h=Object(b.a)(f,2),w=h[0],O=h[1],S=Object(n.useState)(""),k=Object(b.a)(S,2),C=k[0],x=k[1],A=Object(n.useState)(""),K=Object(b.a)(A,2),G=K[0],N=K[1],Y=Object(n.useState)(r.a.createElement("div",null)),P=Object(b.a)(Y,2),T=P[0],R=P[1],I=Object(n.useState)(!1),M=Object(b.a)(I,2),B=M[0],F=M[1],H=Object(n.useState)(""),W=Object(b.a)(H,2),V=W[0],L=W[1];return r.a.createElement("div",{className:"container"},r.a.createElement(_.a,null,r.a.createElement("div",null,"Under construction: See NEW_KEYS")),r.a.createElement(j,{label:"public key",name:"public_key",id:"public_key",value:a}),r.a.createElement(j,{label:"private key",name:"private_key",id:"private_key",value:i}),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"alias"},"Alias"),r.a.createElement("input",{type:"text",name:"alias",id:"alias",onChange:function(e){v(e.target.value)}}),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"text",name:"email",id:"email",onChange:function(e){O(e.target.value)}}),r.a.createElement("label",{htmlFor:"passphrase"},"Passphrase"),r.a.createElement("input",{type:"password",name:"passphrase",id:"passphrase",onChange:function(e){x(e.target.value)}}),r.a.createElement("label",{htmlFor:"passconfirm"},"Confirm Passphrase"),r.a.createElement("input",{type:"password",name:"passconfirm",id:"passconfirm",onChange:function(e){N(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{type:"button",value:"Generate",onClick:function(){var e=!1,t=[];E||(t.push(r.a.createElement("p",{key:"err-alias",style:{color:"red"}},"Missing Alias for key pair")),e=!0),w||(t.push(r.a.createElement("p",{key:"err-email",style:{color:"red"}},"Missing Email for key pair")),e=!0),C||(t.push(r.a.createElement("p",{key:"err-passphrase",style:{color:"red"}},"Missing passphrase for key pair")),e=!0),C!==G&&(t.push(r.a.createElement("p",{key:"err-passconfirm",style:{color:"red"}},"Confirm passphrase mismatch")),e=!0),e?R(r.a.createElement("div",null,t)):(R(r.a.createElement("div",null,"Generating pgp keypairs...")),g.a.generateKey({curve:"curve25519",userIds:[{name:E,email:w}],passphrase:C}).then((function(e){l(e.publicKeyArmored),s(e.privateKeyArmored);var t=e.key.getFingerprint();console.log("fingerprint: ".concat(t)),R(r.a.createElement("div",null,"fingerprint: ".concat(t)))})).catch((function(e){return console.log(e)})))}})),r.a.createElement("div",null,T),r.a.createElement("div",null,r.a.createElement(j,{name:"msg",id:"msg",label:"Message"})),r.a.createElement("input",{type:"button",value:"Toggle QR camera",onClick:function(){F(!B)}}),B?r.a.createElement("div",null,r.a.createElement("div",null,V),r.a.createElement(y.a,{onScan:function(e){console.log(e),e&&L(e)},onError:function(e){return console.log(e)},style:{width:400,height:400}})):null)},x=a(12),A=a(24),K=a.n(A),G=a(48),N=a(63),Y=a(123),P=a(49);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach((function(t){Object(x.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var I=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),i=Object(b.a)(c,2),s=i[0],u=i[1],m=Object(n.useState)(""),p=Object(b.a)(m,2),d=p[0],E=p[1],v=Object(n.useState)(""),f=Object(b.a)(v,2),y=f[0],k=f[1],_=Object(n.useState)(""),C=Object(b.a)(_,2),A=C[0],T=C[1],I=Object(n.useState)(""),M=Object(b.a)(I,2),B=M[0],F=M[1],H=Object(n.useState)(r.a.createElement("div",null)),W=Object(b.a)(H,2),V=W[0],L=W[1],U=Object(n.useState)(""),D=Object(b.a)(U,2),q=D[0],X=D[1],J=function(){var e=Object(G.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(r.a.createElement("div",null,"Generating pgp keypairs...")),e.prev=1,e.next=4,g.a.generateKey({curve:"curve25519",userIds:[{name:d,email:y}],passphrase:A});case 4:t=e.sent,l(t.publicKeyArmored),u(t.privateKeyArmored),X(t.key.getFingerprint()),L(r.a.createElement("div",null,"fingerprint: ".concat(t.key.getFingerprint()))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),L(r.a.createElement("div",null,"".concat(e.t0.toString())));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(G.a)(K.a.mark((function e(){var t,n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a&&s){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,P.getItem("KEY_MY_RPG_KEYS");case 5:return t=e.sent,e.next=8,P.setItem("KEY_MY_RPG_KEYS",R({},t||{},Object(x.a)({},q,{privateKey:s,publicKey:a,email:y,alias:d})));case 8:n=e.sent,console.log(n),E(""),k(""),T(""),F(""),X(""),l(""),u(""),L(r.a.createElement("div",null)),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),L(r.a.createElement("div",null,"".concat(e.t0.toString())));case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(o.a,null,r.a.createElement(h.a,{onSubmit:function(e){e.preventDefault(),B===A&&J()}},r.a.createElement(h.a.Row,null,r.a.createElement(N.a,{lg:6,sm:12,xs:12},r.a.createElement(h.a.Group,null,r.a.createElement(h.a.Label,null,"Alias"),r.a.createElement(w.a,{key:"trigger-tooltip-alias",placement:"bottom",trigger:"focus",overlay:r.a.createElement(O.a,{id:"newkey-tooltip-alias"},r.a.createElement("strong",null,"Do not")," use real name or any identifiable nick-name for this application. Use a pseudonym or alias instead.")},r.a.createElement(h.a.Control,{type:"text",placeholder:"Enter Alias",required:!0,onChange:function(e){E(e.target.value)},value:d})))),r.a.createElement(N.a,null,r.a.createElement(h.a.Group,null,r.a.createElement(h.a.Label,null,"Email"),r.a.createElement(w.a,{key:"trigger-tooltip-email",placement:"bottom",trigger:"focus",overlay:r.a.createElement(O.a,{id:"newkey-tooltip-email"},r.a.createElement("strong",null,"Do not")," use your personal email address. In fact, it doesn't even have to be an actual address.")},r.a.createElement(h.a.Control,{type:"email",placeholder:"Enter email",required:!0,onChange:function(e){k(e.target.value)},value:y}))))),r.a.createElement(h.a.Row,null,r.a.createElement(N.a,{lg:6,sm:12,xs:12},r.a.createElement(h.a.Group,null,r.a.createElement(h.a.Label,null,"Passphrase"),r.a.createElement(h.a.Control,{type:"password",placeholder:"Enter Passphrase",required:!0,onChange:function(e){T(e.target.value)},value:A}))),r.a.createElement(N.a,null,r.a.createElement(h.a.Group,null,r.a.createElement(h.a.Label,null,"Confirm Passphrase"),r.a.createElement(h.a.Control,{type:"password",placeholder:"Confirm Passphrase",required:!0,isInvalid:B!==A||void 0,isValid:B===A,onChange:function(e){F(e.target.value)},value:B})))),r.a.createElement(S.a,{type:"submit"},"Generate")),r.a.createElement("div",null,V),r.a.createElement(Y.a,null,r.a.createElement(N.a,{lg:6,sm:12,xs:12},r.a.createElement(j,{label:"public key",name:"newkey_public_key",id:"newkey_public_key",value:a,readOnly:!0,copyBtn:!0})),r.a.createElement(N.a,null,r.a.createElement(j,{label:"private key",name:"newkey_private_key",id:"newkey_private_key",value:s,readOnly:!0,copyBtn:!0}))),r.a.createElement(S.a,{type:"button",onClick:z,disabled:!a||!s},"Save"))},M=[0,1,0],B={actcreate_tab_setTab:function(e){return{type:d,tab:e}}},F=Object(m.b)((function(e){return{reduxState:e}}),B)((function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(i.a,{fixed:"top",variant:"dark",bg:"dark",expand:"lg"},r.a.createElement(i.a.Brand,null,"RPG-POC"," ",r.a.createElement("sub",null,"v".concat(M[0],".").concat(M[1],".").concat(M[2]))," "),r.a.createElement(i.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(i.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(s.a,{className:"mr-auto",variant:"pills",activeKey:e.reduxState.tab,onSelect:function(t){console.log("selected ".concat(t)),e.actcreate_tab_setTab(t)}},r.a.createElement(s.a.Item,null,r.a.createElement(u.a,{eventKey:"MY_KEYS"},"MY_KEYS")),r.a.createElement(s.a.Item,null,r.a.createElement(u.a,{eventKey:"NEW_KEYS"},"NEW_KEYS")),r.a.createElement(s.a.Item,null,r.a.createElement(u.a,{eventKey:"KEY_SIGNING"},"KEY_SIGNING")),r.a.createElement(s.a.Item,null,r.a.createElement(u.a,{eventKey:"EXCH_KEY_RING"},"EXCH_KEY_RING")),r.a.createElement(s.a.Item,null,r.a.createElement(u.a,{eventKey:"VERF_STRANGER"},"VERF_STRANGER")),r.a.createElement(s.a.Item,null,r.a.createElement(u.a,{eventKey:"MSG_CRYPT"},"MSG_CRYPT")))),r.a.createElement("a",{href:"https://github.com/arealhumannotrobot/rpg-poc",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"mr-sm-2"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z",fill:"#ccc"}))))),r.a.createElement((function(e){var t=function(t){return r.a.createElement("div",null,e.reduxState.tab,r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"inputGroupFileAddon01"},"Upload")),r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",{type:"file",className:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",accept:"text/plain",onChange:function(e){console.log(e.target.files);var t=new FileReader;t.addEventListener("load",(function(e){e.target&&console.log(e.target.result)})),e.target.files&&e.target.files.length&&t.readAsText(e.target.files[0])}}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},"Choose file"))))};return"MY_KEYS"===e.reduxState.tab?t=C:"NEW_KEYS"===e.reduxState.tab?t=I:"KEY_SIGNING"===e.reduxState.tab||"EXCH_KEY_RING"===e.reduxState.tab||"VERF_STRANGER"===e.reduxState.tab||e.reduxState.tab,r.a.createElement(t,null)}),{reduxState:e.reduxState})))})),H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function W(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var V=a(19),L=Object(V.c)({tab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.tab,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return t.tab;case E:return console.log("ACT_TYPE_TAB_STUB"),e;default:return e}}}),U=a(65),D=Object(V.d)(L,Object(V.a)(U.a));a(114);c.a.render(r.a.createElement(m.a,{store:D},r.a.createElement(F,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/rpg-poc",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/rpg-poc","/service-worker.js");H?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):W(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):W(t,e)}))}}()},40:function(e,t,a){},66:function(e,t,a){e.exports=a(116)},71:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.5222f24c.chunk.js.map